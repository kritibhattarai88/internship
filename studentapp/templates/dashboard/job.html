{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Job Listings Section -->

<section class="job-opportunities py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-5 fw-bold text-primary">Job Announcements</h2>
    </div>

    <div class="row g-4">
      {% for job in jobs %}
      <div class="col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm hover-shadow">
          <div class="card-header bg-white">
            <h4 class="mb-0">{{ job.title }}</h4>
          </div>
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="bg-primary bg-opacity-10 p-2 rounded me-3">
                <i class="bi bi-building text-primary fs-4"></i>
              </div>
              <div>
                <h5 class="mb-0">{{ job.company }}</h5>
                <small class="text-muted">{{ job.category }}</small>
              </div>
            </div>

            <ul class="list-unstyled mb-4">
              <li class="mb-2">
                <i class="bi bi-geo-alt me-2 text-primary"></i>
                <strong>Location:</strong> {{ job.location }}
              </li>
              <li class="mb-2">
                <i class="bi bi-calendar me-2 text-primary"></i>
                <strong>Deadline:</strong> {{ job.application_deadline|date:"F j, Y" }}
              </li>
              <li class="mb-2">
                <i class="bi bi-envelope me-2 text-primary"></i>
                <strong>Contact:</strong>
                <a href="mailto:{{ job.email }}?subject={{ 'Application for ' |add:job.title|urlencode }}"
                  class="text-primary text-decoration-none">
                  {{ job.email }}
                </a>


              </li>
              <li class="mb-2">
                <i class="bi bi-file-earmark-text me-2 text-primary"></i>
                <strong>Description:</strong> {{ job.description|truncatewords:20 }}
              </li>
            </ul>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}